"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[3770],{688:function(e,t,n){n.d(t,{f:function(){return g}});var s=n(89555),o=n(13062),r=n(37523),i=n(6958),a=n(36118),l=n(31014),c=n(20193),u=n(88464),d=n(88443),p=n(50111);var h={name:"1v0pok0",styles:"min-width:300px"},m={name:"11jf4ye",styles:"display:flex;gap:8px"},f={name:"bsla3r",styles:"max-height:300px;overflow:auto"};const g=({globalLineChartConfig:e,metricKeyList:t,updateUIState:n})=>{const{theme:g}=(0,o.u)(),_=(0,u.A)(),{lineSmoothness:b,selectedXAxisMetricKey:w,xAxisKey:v}=e||{},x=(0,l.useCallback)((e=>n((t=>({...t,globalLineChartConfig:{...t.globalLineChartConfig,...e}})))),[n]),M=v===a.fj.METRIC,y=_.formatMessage({id:"Kkr/RI",defaultMessage:"Configure charts"});return(0,p.FD)(r.DropdownMenu.Root,{modal:!1,children:[(0,p.Y)(i.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_44",content:y,children:(0,p.Y)(r.DropdownMenu.Trigger,{asChild:!0,children:(0,p.Y)(o.B,{componentId:"mlflow.charts.controls.global_chart_setup_dropdown",icon:(0,p.Y)(r.GearIcon,{}),"aria-label":y})})}),(0,p.FD)(r.DropdownMenu.Content,{align:"end",css:h,children:[(0,p.FD)(r.DropdownMenu.Group,{role:"region","aria-label":_.formatMessage({id:"Jp79WH",defaultMessage:"X-axis"}),children:[(0,p.Y)(r.DropdownMenu.Label,{css:m,children:(0,p.Y)(d.A,{id:"Jp79WH",defaultMessage:"X-axis"})}),(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_68",checked:v===a.fj.STEP,onClick:()=>x({xAxisKey:a.fj.STEP}),children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),(0,p.Y)(d.A,{id:"53b+wP",defaultMessage:"Step"})]}),(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_78",checked:v===a.fj.TIME,onClick:()=>x({xAxisKey:a.fj.TIME}),children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),(0,p.Y)(d.A,{id:"/QYbzP",defaultMessage:"Time (wall)"})]}),(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_88",checked:v===a.fj.TIME_RELATIVE,onClick:()=>x({xAxisKey:a.fj.TIME_RELATIVE}),children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),(0,p.Y)(d.A,{id:"sIC5K3",defaultMessage:"Time (relative)"})]}),(0,p.FD)(r.DropdownMenu.Sub,{children:[(0,p.FD)(r.DropdownMenu.SubTrigger,{css:(0,s.AH)({paddingLeft:g.spacing.xs+g.spacing.sm},""),children:[(0,p.Y)(r.DropdownMenu.IconWrapper,{children:(0,p.Y)(i.C,{css:(0,s.AH)({visibility:M?"visible":"hidden"},"")})}),(0,p.Y)(d.A,{id:"yCncIr",defaultMessage:"Metric"})]}),(0,p.Y)(r.DropdownMenu.SubContent,{css:f,children:t.map((e=>(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_118",checked:w===e&&M,onClick:()=>x({xAxisKey:a.fj.METRIC,selectedXAxisMetricKey:e}),children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),e]},e)))})]})]}),(0,p.FD)(r.DropdownMenu.Group,{role:"region","aria-label":_.formatMessage({id:"qkRBUr",defaultMessage:"Line smoothing"}),children:[(0,p.Y)(r.DropdownMenu.Label,{children:(0,p.Y)(d.A,{id:"qkRBUr",defaultMessage:"Line smoothing"})}),(0,p.Y)("div",{css:(0,s.AH)({padding:g.spacing.sm},""),children:(0,p.Y)(c.o,{min:0,max:100,onChange:e=>x({lineSmoothness:e}),value:b||0})})]})]})]})}},4972:function(e,t,n){n.d(t,{$:function(){return o}});var s=n(31014);const o=()=>{const[e,t]=(0,s.useState)("visible"===document.visibilityState);return(0,s.useEffect)((()=>{document.addEventListener("visibilitychange",(e=>{t("visible"===document.visibilityState)}))}),[]),e}},11473:function(e,t,n){n.d(t,{NW:function(){return c},OT:function(){return a},Yc:function(){return u}});n(31014);var s=n(37504),o=n.n(s),r=n(75826);let i=null;const a=()=>i||(i=new r.Converter,i.setFlavor("github"),i),l={allowedTags:["h1","h2","h3","h4","h5","h6","h7","h8","blockquote","p","a","ul","ol","nl","li","ins","b","i","strong","em","strike","code","hr","br","div","table","thead","tbody","tr","th","td","pre","del","sup","sub","dl","dt","dd","kbd","q","samp","samp","var","hr","rt","rp","summary","iframe","img","caption","figure"],allowedAttributes:{a:["href","name","target"],img:["src","longdesc"],div:["itemscope","itemtype"]}},c=e=>o()(e,l),u=e=>e.replace(new RegExp("<a","g"),'<a target="_blank"')},33946:function(e,t,n){var s=n(31014),o=n(97026),r=n(26809),i=n(10811),a=n(76010),l=n(64912),c=n(50111);class u extends s.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(){const e=[];return this.props.selectedRunIds.forEach((t=>{e.push(this.props.deleteRunApi(t))})),Promise.all(e).catch((()=>{const e=`${this.props.intl.formatMessage({id:"tdmVWN",defaultMessage:"While deleting an experiment run, an error occurred."})}`;this.props.openErrorModal(e)})).then((()=>{var e,t;null===(e=(t=this.props).onSuccess)||void 0===e||e.call(t)}))}render(){const e=this.props.selectedRunIds.length;return(0,c.Y)(o.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment ${a.A.pluralize("Run",e)}`,helpText:(0,c.FD)("div",{children:[(0,c.Y)("p",{children:(0,c.FD)("b",{children:[e," experiment ",a.A.pluralize("run",e)," will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const d={deleteRunApi:r.IX,openErrorModal:r.Yi};t.A=(0,i.Ng)(null,d)((0,l.Ay)(u))},40029:function(e,t,n){n.d(t,{I:function(){return d}});var s=n(89555),o=n(31014),r=n(62758),i=n(88464),a=n(13062),l=n(40553),c=n(76137),u=n(50111);const d=({chartsSearchFilter:e})=>{const t=(0,r.g_)(),{theme:n}=(0,a.u)(),[d,p]=(0,o.useState)((()=>null!==e&&void 0!==e?e:"")),[h,m]=(0,o.useState)(!1),{formatMessage:f}=(0,i.A)(),g=(0,o.useCallback)((e=>{t((t=>({...t,chartsSearchFilter:e}))),m(!1)}),[t]),_=(0,c.YQ)(g,150);return(0,u.Y)(l.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsfilterinput.tsx_30",role:"searchbox",prefix:(0,u.Y)("div",{css:(0,s.AH)({width:n.general.iconFontSize,lineHeight:0},""),children:h?(0,u.Y)(a.S,{size:"small"}):(0,u.Y)(l.S,{})}),value:d,allowClear:!0,onChange:e=>{p(e.target.value),m(!0),_(e.target.value)},placeholder:f({id:"Xs1oJm",defaultMessage:"Search metric charts"})})}},53677:function(e,t,n){n.d(t,{j:function(){return m}});var s=n(31014),o=n(10811),r=n(64912),i=n(67245),a=n(58645),l=n(26809),c=n(7204),u=n(50111);class d extends s.Component{constructor(...e){super(...e),this.formRef=s.createRef(),this.handleRenameRun=e=>{const t=e[a.m],n=(0,c.yk)();return this.props.updateRunApi(this.props.runUuid,t,n).then((()=>{var e,t;return null===(e=(t=this.props).onSuccess)||void 0===e?void 0:e.call(t)}))}}render(){const{isOpen:e=!1,runName:t}=this.props;return(0,u.Y)(i.B,{title:this.props.intl.formatMessage({id:"+Dnww0",defaultMessage:"Rename Run"}),okText:this.props.intl.formatMessage({id:"7NKkk1",defaultMessage:"Save"}),isOpen:e,handleSubmit:this.handleRenameRun,onClose:this.props.onClose,children:(0,u.Y)(a.P,{type:"run",name:t,innerRef:this.formRef,visible:e,validator:async(e,t)=>{if("string"===typeof t&&t.length&&!t.trim())throw new Error(this.props.intl.formatMessage({id:"ze1m7Z",defaultMessage:"Run name cannot consist only of whitespace!"}));return!0}})})}}const p={updateRunApi:l.FZ},h=(0,r.Ay)(d),m=(0,o.Ng)(void 0,p)(h)},55999:function(e,t,n){n.d(t,{L:function(){return l}});var s=n(76010),o=n(26809),r=n(25866),i=n(31014),a=n(10811);const l=({runUuids:e,runUuidsIsActive:t,autoRefreshEnabled:n,enabled:l})=>{const c=(0,a.wA)(),u=e.slice(0,r.Lf).join(",");(0,i.useEffect)((()=>{l&&!n&&u.split(",").forEach((e=>{e&&c((0,o.LN)(e))}))}),[u,c,n,l]);const d=(0,i.useRef)(void 0),p=(0,i.useRef)(n&&l);p.current=n;const h=t.slice(0,r.Lf).join(",");(0,i.useEffect)((()=>{let e=!1;if(!l||!n)return;const t=async e=>{const t=u.split(","),n=h.split(",");(e?t.filter(((e,t)=>"true"===n[t])):t).forEach((t=>{t&&c((0,o.LN)(t,e))}))},i=async()=>{if(p.current&&!e){try{await t(!0)}catch(n){s.A.logErrorAndNotifyUser(n)}clearTimeout(d.current),p.current&&!e&&(d.current=window.setTimeout(i,r.zD))}};return t(!1).then(i),()=>{t(!0),e=!0,clearTimeout(d.current)}}),[c,u,h,n,l])}},58645:function(e,t,n){n.d(t,{P:function(){return c},m:function(){return a}});var s=n(31014),o=n(37523),r=n(40553),i=n(50111);const a="newName";class l extends s.Component{constructor(...e){super(...e),this.inputToAutoFocus=void 0,this.autoFocusInputRef=e=>{this.inputToAutoFocus=e,e&&e.focus(),e&&e.select()},this.autoFocus=e=>{!1===e.visible&&!0===this.props.visible&&(this.inputToAutoFocus&&this.inputToAutoFocus.focus(),this.inputToAutoFocus&&this.inputToAutoFocus.select())},this.resetFields=e=>{const t=this.props.innerRef;e.name!==this.props.name&&t.current.resetFields([a])}}componentDidUpdate(e){this.autoFocus(e),this.resetFields(e)}render(){return(0,i.Y)(o.LegacyForm,{ref:this.props.innerRef,layout:"vertical",children:(0,i.Y)(o.LegacyForm.Item,{name:a,initialValue:this.props.name,rules:[{required:!0,message:`Please input a new name for the ${this.props.type}.`},{validator:this.props.validator}],label:`New ${this.props.type} name`,children:(0,i.Y)(r.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_renameform.tsx_69",placeholder:`Input a ${this.props.type} name`,ref:this.autoFocusInputRef,"data-testid":"rename-modal-input"})})})}}const c=l},72661:function(e,t,n){n.d(t,{o:function(){return l}});var s=n(41261),o=n(8986),r=n(9133),i=n(53962);const a=async({queryKey:[,e]})=>{const t=(0,r.chunk)(e,100);return Promise.all(t.map((e=>{const t=new URLSearchParams;for(const n of e)t.append("model_ids",n);return(0,o.G)((0,i.we)(`ajax-api/2.0/mlflow/logged-models:batchGet?${t.toString()}`),"GET")})))},l=({modelIds:e},t)=>{const{data:n,isLoading:o,isFetching:r,refetch:i,error:l}=(0,s.I)({queryKey:(c=null!==e&&void 0!==e?e:[],["GET_LOGGED_MODELS",c]),queryFn:a,select:e=>null===e||void 0===e?void 0:e.flatMap((e=>(null===e||void 0===e?void 0:e.models)||[])),retry:!1,...t});var c;return{isLoading:o,isFetching:r,data:n,refetch:i,error:l}}},97026:function(e,t,n){n.d(t,{u:function(){return i}});var s=n(31014),o=n(6958),r=n(50111);class i extends s.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally((()=>{this.props.onClose(),this.setState({isSubmitting:!1})}))}render(){return(0,r.Y)(o.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,r.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}}}]);
//# sourceMappingURL=3770.caf40a03.chunk.js.map