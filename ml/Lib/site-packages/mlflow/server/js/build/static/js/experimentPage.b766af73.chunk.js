"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7419],{23014:function(e,i,n){n.r(i),n.d(i,{default:function(){return j}});var t=n(89555),r=n(26809),a=n(93215),s=n(13062),o=n(89736),l=n(64651),d=n(31014),c=n(6958),m=n(37523),p=n(39416),u=n(4877),g=n.n(u),f=n(30214),h=n(88443),v=n(58481),x=n(53660),E=n(91144),b=n(25866),Y=n(50111);const T=({experimentId:e="",activeTab:i})=>{const{theme:n}=(0,s.u)(),r=i=>[v.Ay.getExperimentPageRoute(e),[x.b,i].join("=")].join("?"),o=(0,Y.Y)(h.A,{id:"SCqKp8",defaultMessage:"Evaluation"}),l=(0,Y.FD)("span",{css:(0,t.AH)({display:"inline-flex",gap:n.spacing.xs,alignItems:"center"},""),children:[(0,Y.Y)(s.T.Text,{disabled:!0,bold:!0,children:o}),(0,Y.Y)(m.InfoPopover,{popoverProps:{maxWidth:350},children:(0,Y.Y)(h.A,{id:"sFPlmE",defaultMessage:'Accessing artifact evaluation by "Evaluation" tab is being discontinued. In order to use this feature, use <link>"Artifacts evaluation" mode in Runs tab</link> instead.',values:{link:e=>(0,Y.Y)(a.N_,{to:r("ARTIFACT"),children:e})}})})]}),d=(0,E.GV)()?(0,Y.Y)(Y.FK,{children:l}):(0,Y.FD)(a.N_,{to:r("ARTIFACT"),children:[o,(0,Y.Y)(f.W,{})]});return(0,Y.Y)(m.NavigationMenu.Root,{children:(0,Y.FD)(m.NavigationMenu.List,{css:(0,t.AH)({marginBottom:0,li:{lineHeight:n.typography.lineHeightBase,marginRight:n.spacing.lg,paddingTop:1.5*n.spacing.xs,paddingBottom:1.5*n.spacing.xs,"&>a":{padding:0},alignItems:"center"},"li+li":{marginLeft:.5*n.spacing.xs}},""),children:[(0,Y.Y)(m.NavigationMenu.Item,{children:(0,Y.Y)(a.N_,{to:r("TABLE"),children:(0,Y.Y)(h.A,{id:"qpFaad",defaultMessage:"Runs"})})},"RUNS"),(0,Y.Y)(m.NavigationMenu.Item,{active:i===b.fM.Models,children:(0,Y.FD)(a.N_,{to:v.Ay.getExperimentPageTabRoute(e,b.fM.Models),children:[(0,Y.Y)(h.A,{id:"b8rdDM",defaultMessage:"Models"}),(0,Y.Y)(f.W,{})]})},"MODELS"),(0,Y.Y)(m.NavigationMenu.Item,{children:d},"ARTIFACT"),(0,Y.Y)(m.NavigationMenu.Item,{children:(0,Y.Y)(a.N_,{to:r("TRACES"),children:(0,Y.Y)(h.A,{id:"AGQOPV",defaultMessage:"Traces"})})},"TRACES")]})})};var M=n(72314),A=n(10811),I=n(7204),y=n(9133);var S=n(97805),N=n(62702),F=n(56928),k=n(26626),R=n(22647);const w=({experiment:e,loading:i,onNoteUpdated:n,error:r,experimentKindSelector:a,inferredExperimentKind:o})=>{var l,c;const{theme:p}=(0,s.u)(),[u,g]=(0,d.useState)(!0),[f,v]=(0,d.useState)(!1),x=(0,d.useMemo)((()=>{const i=e;return i?{...i,creationTime:Number(null===i||void 0===i?void 0:i.creationTime),lastUpdateTime:Number(null===i||void 0===i?void 0:i.lastUpdateTime)}:null}),[e]),b=null===x||void 0===x||null===(l=x.tags)||void 0===l||null===(c=l.find((e=>e.key===F.e)))||void 0===c?void 0:c.value,T=(0,k.b)(r);return i?(0,E.w7)()?(0,Y.Y)(R.l,{}):(0,Y.Y)(S.J,{}):T?(0,Y.Y)("div",{css:(0,t.AH)({height:p.general.heightBase,marginTop:p.spacing.sm,marginBottom:p.spacing.md},""),children:(0,Y.Y)(m.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,Y.Y)(h.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:T}}),closable:!1})}):x?(0,Y.FD)(Y.FK,{children:[(0,E.w7)()?(0,Y.Y)(R.i,{experiment:x,inferredExperimentKind:o,setEditing:v,experimentKindSelector:a}):(0,Y.Y)(S.i,{experiment:x,showAddDescriptionButton:u,setEditing:v}),(0,Y.Y)(N.A,{experiment:x,setShowAddDescriptionButton:g,editing:f,setEditing:v,onNoteUpdated:n,defaultValue:b})]}):null};var L=n(81313),D=n(62230),K=n(11039),P=n(83667),B=n(7355),_=n(15543);const G=({experimentId:e,activeTab:i})=>{const{theme:n}=(0,s.u)();return(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(c.S,{size:"sm",shrinks:!1}),(0,Y.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${n.colors.border}`},"")})]})};var H={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const C=({experimentId:e,activeTab:i})=>{const{theme:n}=(0,s.u)();return(0,Y.Y)(m.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:i,css:H,children:(0,Y.FD)(m.Tabs.List,{children:[(0,Y.Y)(m.Tabs.Trigger,{value:b.fM.LabelingSessions,children:(0,Y.Y)(a.N_,{css:(0,t.AH)({color:n.colors.textPrimary},""),to:v.Ay.getExperimentPageTabRoute(e,b.fM.LabelingSessions),children:(0,Y.Y)(h.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,Y.Y)(m.Tabs.Trigger,{value:b.fM.LabelingSchemas,children:(0,Y.Y)(a.N_,{css:(0,t.AH)({color:n.colors.textPrimary},""),to:v.Ay.getExperimentPageTabRoute(e,b.fM.LabelingSchemas),children:(0,Y.Y)(h.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var V=n(24011);const z=d.lazy((()=>n.e(1339).then(n.bind(n,21339)))),U=d.lazy((()=>n.e(355).then(n.bind(n,90355)))),O=d.lazy((()=>Promise.all([n.e(1570),n.e(2149),n.e(47),n.e(4588)]).then(n.bind(n,54588)))),Q=()=>{const{experimentId:e,tabName:i}=(0,a.g)(),{theme:n}=(0,s.u)(),o=(0,a.Zp)(),{tabName:l}=(0,V.H)(),u=null!==l&&void 0!==l?l:(0,L.SK)(b.fM,i,b.fM.Models);g()(e,"Experiment ID must be defined"),(0,E.BV)()||g()(i,"Tab name must be defined");const{data:f,loading:h,refetch:x,apiError:S,apolloError:N}=(0,M.L)({experimentId:e}),{mutate:F,isLoading:k}=(0,D.G)(x),R=null!==S&&void 0!==S?S:N;if((e=>{const i=(0,A.wA)();(0,d.useEffect)((()=>{const n=(0,y.get)(e,"experimentId");e&&n&&i(((i,t)=>{var a,s;Boolean(null===(a=t().entities)||void 0===a||null===(s=a.experimentsById)||void 0===s?void 0:s[n])||i({type:(0,I.ec)(r.gT),payload:{experiment:e}})}))}),[e,i])})(f),R instanceof p.ZR)throw R;const H=f&&"tags"in f?null===f||void 0===f?void 0:f.tags:[],Q=(0,P.BH)(H),{inferredExperimentKind:$,inferredExperimentPageTab:W,isLoading:Z,dismiss:j}=(0,B.F)({experimentId:e,isLoadingExperiment:h,enabled:(0,E.XQ)()&&!Q,experimentTags:H,updateExperimentKind:F}),{pathname:q}=(0,a.zy)(),J=Boolean((0,a.B6)(v.AY.experimentPage,q));return(({enabled:e,experimentId:i})=>{const n=(0,a.Zp)(),{data:t,loading:r}=(0,M.L)({experimentId:i,options:{skip:!e}}),s=(0,d.useMemo)((()=>{if(r||!t)return null;const e=t&&"tags"in t?null===t||void 0===t?void 0:t.tags:[];if(t){const i=(0,P.BH)(e);return(0,L.SK)(b.Gk,i,b.Gk.NO_INFERRED_TYPE)}return null}),[t,r]);(0,d.useEffect)((()=>{if(!e||!s)return;let t=b.fM.Runs;s===b.Gk.GENAI_DEVELOPMENT&&(t=b.fM.Traces),n(v.Ay.getExperimentPageTabRoute(i,t),{replace:!0})}),[n,i,e,s])})({enabled:(0,E.BV)()&&J,experimentId:e}),(0,d.useEffect)((()=>{W&&o(v.Ay.getExperimentPageTabRoute(e,W),{replace:!0})}),[e,o,W]),$===b.Gk.NO_INFERRED_TYPE&&(0,E.XQ)()?(0,Y.Y)(_.T,{onConfirm:i=>{F({experimentId:e,kind:i},{onSettled:()=>{j(),(0,E.BV)()&&i===b.Gk.GENAI_DEVELOPMENT&&o(v.Ay.getExperimentPageTabRoute(e,b.fM.Traces),{replace:!0})}})},onDismiss:j}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(w,{experiment:f,loading:h||Z,onNoteUpdated:x,error:R,inferredExperimentKind:$,experimentKindSelector:(0,Y.Y)(K.f,{value:Q,inferredExperimentKind:$,onChange:i=>F({experimentId:e,kind:i}),isUpdating:k||Z,readOnly:!1},$)}),(0,E.w7)()?u===b.fM.EvaluationRuns||u===b.fM.Datasets?(0,Y.Y)(G,{experimentId:e,activeTab:u}):u===b.fM.LabelingSessions||u===b.fM.LabelingSchemas?(0,Y.Y)(C,{experimentId:e,activeTab:u}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(c.S,{size:"sm",shrinks:!1}),(0,Y.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${n.colors.border}`},"")})]}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(c.S,{size:"sm",shrinks:!1}),(0,Y.Y)(T,{experimentId:e,activeTab:u})]}),(0,Y.Y)(c.S,{size:"sm",shrinks:!1}),(0,Y.Y)(d.Suspense,{fallback:(0,Y.Y)(Y.FK,{children:[...Array(8).keys()].map((e=>(0,Y.Y)(m.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))}),children:(0,E.BV)()?(0,Y.Y)(a.sv,{}):(0,Y.FD)(Y.FK,{children:[u===b.fM.Traces&&(0,Y.Y)(U,{}),u===b.fM.Runs&&(0,Y.Y)(z,{}),u===b.fM.Models&&(0,Y.Y)(O,{})]})})]})};var $=()=>{const{theme:e}=(0,s.u)();return(0,Y.Y)("div",{css:(0,t.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,paddingTop:e.spacing.lg},""),children:(0,Y.Y)(Q,{})})};const W={setExperimentTagApi:r.EJ,getExperimentApi:r.yc,setCompareExperiments:r.I_};var Z={name:"15currb",styles:"display:flex;height:100%"};var j=()=>{const{theme:e}=(0,s.u)(),{tabName:i}=(0,a.g)(),n=(0,E.BV)()||Boolean(i);return(0,Y.FD)("div",{css:Z,children:[n&&(0,Y.Y)($,{}),!n&&(0,Y.Y)("div",{css:(0,t.AH)({height:"100%",flex:1,padding:e.spacing.md,width:"100%"},""),children:(0,Y.Y)(o.Z,{actions:W,children:(0,Y.Y)(l.n,{})})})]})}},26626:function(e,i,n){n.d(i,{b:function(){return r}});var t=n(92283);const r=e=>{if(e)return e instanceof t.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.toString())).join(", "):"message"in e?e.message:e.toString()}},72314:function(e,i,n){n.d(i,{L:function(){return a}});var t=n(92283);const r=t.J1`
  query MlflowGetExperimentQuery($input: MlflowGetExperimentInput!) @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetExperiment(input: $input) {
      apiError {
        code
        message
      }
      experiment {
        artifactLocation
        creationTime
        experimentId
        lastUpdateTime
        lifecycleStage
        name
        tags {
          key
          value
        }
      }
    }
  }
`,a=({experimentId:e,options:i={}})=>{var n;const{data:a,loading:s,error:o,refetch:l}=(0,t.IT)(r,{variables:{input:{experimentId:e}},skip:!e,...i});return{loading:s,data:null===a||void 0===a||null===(n=a.mlflowGetExperiment)||void 0===n?void 0:n.experiment,refetch:l,apolloError:o,apiError:(()=>{var e;return null===a||void 0===a||null===(e=a.mlflowGetExperiment)||void 0===e?void 0:e.apiError})()}}}}]);
//# sourceMappingURL=experimentPage.b766af73.chunk.js.map